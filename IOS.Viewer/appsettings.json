{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "IOS.Viewer": "Debug"
    }
  },
  "AllowedHosts": "*",
  
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning",
        "IOS.Viewer": "Debug"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/ios-viewer-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 7,
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] [{SourceContext}] {Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": ["FromLogContext", "WithMachineName", "WithThreadId"]
  },

  "StandardMqtt": {
    "Topics": {
      "Subscribe": {
        "MotionStatus": "ios/v1/motion/status/response",
        "MotionComplete": "ios/v1/motion/control/complete",
        "CoderResult": "ios/v1/coder/data/result",
        "CoderComplete": "ios/v1/coder/service/complete",
        "CoderStatus": "ios/v1/coder/status/response",
        "SchedulerStatus": "ios/v1/scheduler/status/response",
        "SystemStatus": "ios/v1/status",
        "CalibrationComplete": "ios/v1/motion/calibration/complete"
      },
      "Publish": {
        "MotionControl": "ios/v1/motion/control/move",
        "MotionCalibration": "ios/v1/motion/calibration/start",
        "MotionStatusRequest": "ios/v1/motion/status/request",
        "CoderService": "ios/v1/coder/service/start",
        "CoderConfig": "ios/v1/coder/config/set",
        "SchedulerControl": "ios/v1/scheduler/control/start",
        "SchedulerConfig": "ios/v1/scheduler/config/set",
        "ViewerStatus": "ios/v1/viewer/status/response"
      }
    },
    "Messages": {
      "Version": "v1",
      "EnableValidation": true,
      "MaxRetries": 3,
      "TimeoutSeconds": 30,
      "EnableCompression": false,
      "EnableEncryption": false
    }
  },

  "Mqtt": {
    "Broker": "127.0.0.1",
    "Port": 1883,
    "ClientId": "IOS.Viewer",
    "Username": "",
    "Password": "",
    "KeepAlivePeriod": 30,
    "ReconnectDelay": 2000,
    "ConnectionTimeout": 30,
    "UseTls": false,
    "CleanSession": true,
    "ReconnectInterval": 5
  },

  "ViewerSettings": {
    "UI": {
      "Theme": "Dark",
      "Language": "zh-CN",
      "RefreshInterval": 1000,
      "EnableAnimations": true,
      "ShowNotifications": true
    },
    "Display": {
      "AutoConnect": true,
      "ShowConnectionStatus": true,
      "ShowSystemStatus": true,
      "StatusRefreshInterval": 5000,
      "MaxLogEntries": 1000
    },
    "Network": {
      "ConnectionTimeout": 10000,
      "RetryAttempts": 3,
      "RetryDelay": 2000
    }
  },

  "DeviceConfig": {
    "Motion": {
      "MinPosition": 0,
      "MaxPosition": 220000,
      "DefaultSpeed": 50000,
      "SafetyMargin": 1000
    },
    "Coder": {
      "DefaultPort": 8080,
      "TimeoutMs": 5000,
      "BufferSize": 1024
    },
    "Camera": {
      "DefaultWidth": 1920,
      "DefaultHeight": 1080,
      "FrameRate": 30,
      "Format": "MJPEG"
    }
  }
} 